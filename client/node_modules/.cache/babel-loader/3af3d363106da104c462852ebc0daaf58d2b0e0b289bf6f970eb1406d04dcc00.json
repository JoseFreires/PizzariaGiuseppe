{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Pastas\\\\Serious Things\\\\Folder_Developer\\\\React\\\\Site_Pizzaria\\\\client\\\\src\\\\context\\\\auth.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState } from \"react\";\nimport api from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext({});\nexport const AuthProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [client, setClient] = useState();\n  const [userNow, setUserNow] = useState();\n  const register = (userName, userEmail, userPassword, userContact) => {\n    api.post('/clients', {\n      name: userName,\n      email: userEmail,\n      password: userPassword,\n      contact: userContact\n    }).then(response => {\n      console.log(response.data);\n      setUserNow(userEmail);\n    }).catch(error => {\n      console.error(error.response);\n    });\n  };\n  const registerAdress = (userCep, userLogradouro, userNumber, userComplemento, userBairro, userCity, userUf) => {\n    api.patch('/clients', {\n      cep: userCep,\n      logradouro: userLogradouro,\n      number: userNumber,\n      complemento: userComplemento,\n      bairro: userBairro,\n      city: userCity,\n      uf: userUf\n    }).then(response => {\n      console.log(response.data);\n    }).catch(error => {\n      console.error(error.response);\n    });\n  };\n  const login = (userEmail, userPassword) => {\n    api.get('/clients').then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n      data.map(item => {\n        if (item.email === userEmail && item.password === userPassword) {\n          setClient({\n            userEmail,\n            userPassword\n          });\n        } else {\n          console.log({\n            message: \"Usuário não encontrado.\"\n          });\n        }\n        return console.log(\"Estou no map\");\n      });\n    });\n  };\n  const logout = () => {\n    setClient(null);\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      client,\n      loginOK: !!client,\n      login,\n      register,\n      registerAdress,\n      logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n_s(AuthProvider, \"icxaY1M8cV0ZMtiWU6sM4s+kbVQ=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useState","api","jsxDEV","_jsxDEV","AuthContext","AuthProvider","_ref","_s","children","client","setClient","userNow","setUserNow","register","userName","userEmail","userPassword","userContact","post","name","email","password","contact","then","response","console","log","data","catch","error","registerAdress","userCep","userLogradouro","userNumber","userComplemento","userBairro","userCity","userUf","patch","cep","logradouro","number","complemento","bairro","city","uf","login","get","_ref2","map","item","message","logout","Provider","value","loginOK","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/Pastas/Serious Things/Folder_Developer/React/Site_Pizzaria/client/src/context/auth.js"],"sourcesContent":["import { createContext, useState } from \"react\";\r\n\r\nimport api from \"../services/api\";\r\n\r\nexport const AuthContext = createContext({});\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    const [client, setClient] = useState();\r\n    const [userNow, setUserNow] = useState();\r\n\r\n    const register = (userName, userEmail, userPassword, userContact) => {\r\n        \r\n        api.post('/clients', {\r\n            name: userName,\r\n            email: userEmail,\r\n            password: userPassword,\r\n            contact: userContact\r\n        }).then((response) => {\r\n            console.log(response.data)\r\n            setUserNow(userEmail)\r\n        }).catch((error) => {\r\n            console.error(error.response)\r\n        })\r\n\r\n    }\r\n\r\n    const registerAdress = (userCep, userLogradouro, userNumber, userComplemento, userBairro, userCity, userUf) => {\r\n        api.patch('/clients', {\r\n            cep: userCep,\r\n            logradouro: userLogradouro,\r\n            number: userNumber,\r\n            complemento: userComplemento,\r\n            bairro: userBairro,\r\n            city: userCity,\r\n            uf: userUf\r\n        }).then((response) => {\r\n            console.log(response.data)\r\n        }).catch((error) => {\r\n            console.error(error.response)\r\n        })\r\n    }\r\n\r\n    const login = (userEmail, userPassword) => {  \r\n        api.get('/clients')\r\n        .then(({ data }) => {\r\n            data.map((item) => {    \r\n                if(item.email === userEmail && item.password === userPassword){\r\n                    setClient({ userEmail, userPassword })\r\n                } else {\r\n                    console.log({message: \"Usuário não encontrado.\"})\r\n                }\r\n                return(\r\n                    console.log(\"Estou no map\")\r\n                )\r\n            })\r\n        })\r\n    }\r\n\r\n    const logout = () => {\r\n        setClient(null);\r\n    }\r\n    \r\n    return(\r\n        <AuthContext.Provider value={{client, loginOK: !!client, login, register, registerAdress, logout}}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}