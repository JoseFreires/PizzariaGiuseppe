{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Pastas\\\\Serious Things\\\\Folder_Developer\\\\React\\\\Site_Pizzaria\\\\client\\\\src\\\\context\\\\auth.js\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useState } from \"react\";\nimport api from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext({});\nexport const AuthProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [client, setClient] = useState();\n  const register = (userName, userEmail, userPassword, userContact) => {\n    const verifica = api.get('/clients').then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n      data.filter(data => data.email === userEmail);\n    });\n    if (verifica !== null && verifica !== void 0 && verifica.length) {\n      return \"Conta já existente\";\n    } else {\n      api.post('/clients', {\n        name: userName,\n        email: userEmail,\n        password: userPassword,\n        contact: userContact\n      }).then(response => {\n        console.log(response);\n      });\n    }\n  };\n  const login = (userEmail, userPassword) => {\n    api.get('/clients').then(_ref3 => {\n      let {\n        data\n      } = _ref3;\n      data.map(item => {\n        if (item.email === userEmail && item.password === userPassword) {\n          setClient({\n            userEmail,\n            userPassword\n          });\n        }\n      });\n    });\n  };\n  const logout = () => {\n    setClient(null);\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      client,\n      loginOK: !!client,\n      login,\n      register,\n      logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(AuthProvider, \"jBeftI3Q+GrQvd7t6mthxLZMxhM=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["createContext","useEffect","useState","api","jsxDEV","_jsxDEV","AuthContext","AuthProvider","_ref","_s","children","client","setClient","register","userName","userEmail","userPassword","userContact","verifica","get","then","_ref2","data","filter","email","length","post","name","password","contact","response","console","log","login","_ref3","map","item","logout","Provider","value","loginOK","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/Pastas/Serious Things/Folder_Developer/React/Site_Pizzaria/client/src/context/auth.js"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\r\n\r\nimport api from \"../services/api\";\r\n\r\nexport const AuthContext = createContext({});\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    const [client, setClient] = useState()\r\n\r\n    const register = (userName, userEmail, userPassword, userContact) => {\r\n        const verifica = api.get('/clients').then(({data}) => {data.filter((data) => data.email === userEmail)})\r\n\r\n        if (verifica?.length){\r\n            return \"Conta já existente\"\r\n        } else{\r\n            api.post('/clients', {\r\n                name: userName,\r\n                email: userEmail,\r\n                password: userPassword,\r\n                contact: userContact\r\n            }).then((response) => {\r\n                console.log(response)\r\n            });\r\n        }\r\n\r\n        \r\n\r\n    }\r\n\r\n    const login = (userEmail, userPassword) => {  \r\n        api.get('/clients')\r\n        .then(({ data }) => {\r\n            data.map((item) => {    \r\n                if(item.email === userEmail && item.password === userPassword){\r\n                    setClient({ userEmail, userPassword })\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    const logout = () => {\r\n        setClient(null);\r\n    }\r\n    \r\n    return(\r\n        <AuthContext.Provider value={{client, loginOK: !!client, login, register, logout}}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n\r\n}"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE1D,OAAOC,GAAG,MAAM,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,OAAO,MAAMC,WAAW,gBAAGN,aAAa,CAAC,CAAC,CAAC,CAAC;AAE5C,OAAO,MAAMO,YAAY,GAAGC,IAAA,IAAkB;EAAAC,EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAF,IAAA;EACrC,MAAM,CAACG,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,EAAE;EAEtC,MAAMW,QAAQ,GAAGA,CAACC,QAAQ,EAAEC,SAAS,EAAEC,YAAY,EAAEC,WAAW,KAAK;IACjE,MAAMC,QAAQ,GAAGf,GAAG,CAACgB,GAAG,CAAC,UAAU,CAAC,CAACC,IAAI,CAACC,KAAA,IAAY;MAAA,IAAX;QAACC;MAAI,CAAC,GAAAD,KAAA;MAAMC,IAAI,CAACC,MAAM,CAAED,IAAI,IAAKA,IAAI,CAACE,KAAK,KAAKT,SAAS,CAAC;IAAA,CAAC,CAAC;IAExG,IAAIG,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEO,MAAM,EAAC;MACjB,OAAO,oBAAoB;IAC/B,CAAC,MAAK;MACFtB,GAAG,CAACuB,IAAI,CAAC,UAAU,EAAE;QACjBC,IAAI,EAAEb,QAAQ;QACdU,KAAK,EAAET,SAAS;QAChBa,QAAQ,EAAEZ,YAAY;QACtBa,OAAO,EAAEZ;MACb,CAAC,CAAC,CAACG,IAAI,CAAEU,QAAQ,IAAK;QAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACzB,CAAC,CAAC;IACN;EAIJ,CAAC;EAED,MAAMG,KAAK,GAAGA,CAAClB,SAAS,EAAEC,YAAY,KAAK;IACvCb,GAAG,CAACgB,GAAG,CAAC,UAAU,CAAC,CAClBC,IAAI,CAACc,KAAA,IAAc;MAAA,IAAb;QAAEZ;MAAK,CAAC,GAAAY,KAAA;MACXZ,IAAI,CAACa,GAAG,CAAEC,IAAI,IAAK;QACf,IAAGA,IAAI,CAACZ,KAAK,KAAKT,SAAS,IAAIqB,IAAI,CAACR,QAAQ,KAAKZ,YAAY,EAAC;UAC1DJ,SAAS,CAAC;YAAEG,SAAS;YAAEC;UAAa,CAAC,CAAC;QAC1C;MACJ,CAAC,CAAC;IACN,CAAC,CAAC;EACN,CAAC;EAED,MAAMqB,MAAM,GAAGA,CAAA,KAAM;IACjBzB,SAAS,CAAC,IAAI,CAAC;EACnB,CAAC;EAED,oBACIP,OAAA,CAACC,WAAW,CAACgC,QAAQ;IAACC,KAAK,EAAE;MAAC5B,MAAM;MAAE6B,OAAO,EAAE,CAAC,CAAC7B,MAAM;MAAEsB,KAAK;MAAEpB,QAAQ;MAAEwB;IAAM,CAAE;IAAA3B,QAAA,EAC7EA;EAAQ;IAAA+B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACU;AAG/B,CAAC;AAAAnC,EAAA,CA5CYF,YAAY;AAAAsC,EAAA,GAAZtC,YAAY;AAAA,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}